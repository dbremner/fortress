#!/bin/csh

################################################################################
#    Copyright 2009 Sun Microsystems, Inc.,
#    4150 Network Circle, Santa Clara, California 95054, U.S.A.
#    All rights reserved.
#
#    U.S. Government Rights - Commercial software.
#    Government users are subject to the Sun Microsystems, Inc. standard
#    license agreement and applicable provisions of the FAR and its supplements.
#
#    Use is subject to license terms.
#
#    This distribution may include materials developed by third parties.
#
#    Sun, Sun Microsystems, the Sun logo and Java are trademarks or registered
#    trademarks of Sun Microsystems, Inc. in the U.S. and other countries.
################################################################################

# This script is only temporary.  It is used for running compiled Fortress programs.

setenv CP "$FORTRESS_HOME/default_repository/caches/nativewrapper_cache:/$FORTRESS_HOME/ProjectFortress/build:$FORTRESS_HOME/ProjectFortress/third_party/junit/junit.jar:$FORTRESS_HOME/ProjectFortress/third_party/asm/asm-3.1.jar:$FORTRESS_HOME/ProjectFortress/third_party/asm/asm-tree-3.1.jar:$FORTRESS_HOME/ProjectFortress/third_party/xtc/xtc.jar:$FORTRESS_HOME/ProjectFortress/third_party/jsr166y/jsr166y.jar:$FORTRESS_HOME/ProjectFortress/third_party/plt/plt.jar:$JAVA_HOME/lib/tools.jar:$FORTRESS_HOME/ProjectFortress/third_party/unsigned/unsigned.jar:$FORTRESS_HOME/ProjectFortress/third_party/astgen/astgen.jar:$FORTRESS_HOME/ProjectFortress/third_party/scala/scala-compiler-2.7.2.jar:$FORTRESS_HOME/ProjectFortress/third_party/scala/scala-library-2.7.2.jar"

ant cleanCache
$FORTRESS_HOME/bin/fortress codegen $FORTRESS_HOME/ProjectFortress/compiler_tests/Compiled0.fss
cd $FORTRESS_HOME/ProjectFortress/build

java -cp $CP Compiled0
