(*******************************************************************************
    Copyright 2011, Oracle and/or its affiliates.
    All rights reserved.


    Use is subject to license terms.

    This distribution may include materials developed by third parties.

******************************************************************************)

export Executable

f(x : Any, y : Any) = "any"

f(x : Any, y : ZZ32) = "ai"

f(x : Specific -> General, y : ZZ32) = "sgi"

f(x : Any, y : Specific -> General) = "asg"

f(x : Specific -> General, y : Any) = "sga"

f(x : Specific -> General, y : Specific -> General) = "sgsg"

f(x : Specific -> General, y : General -> Specific) = "sggs"

f(x : General -> Specific, y : Specific -> General) = "gssg"

f(x : General -> Specific, y : General -> Specific) = "gsgs"

trait General end
trait Specific extends General end

object G extends General end
object S extends Specific end

sg(s : Specific) : G = G
gs(g : General) : S = S

run() : () = do
    x : Any = gs
    y : Any = sg
    println(f(x,sg))
    println(f(y,sg))
    println(f(1,y))
    println(f(y,1.0))
    println(f(x,x))
    println(f(x,()))
    println(f(x,true))
    z : ZZ32 = 1
    println(f(true,z))
    z2 : ZZ64 = 1
    println(f(true,z2))
    r : RR32 = 3.1459
    println(f(true,r))    
    r2 : RR64 = 3.1459
    println(f(true,r2))
    println(f(true,'c'))  (*) Problem with static analysis and chars
    println(f(x,(y,y)))
end