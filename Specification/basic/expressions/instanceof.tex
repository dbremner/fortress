%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   Copyright 2009 Sun Microsystems, Inc.,
%   4150 Network Circle, Santa Clara, California 95054, U.S.A.
%   All rights reserved.
%
%   U.S. Government Rights - Commercial software.
%   Government users are subject to the Sun Microsystems, Inc. standard
%   license agreement and applicable provisions of the FAR and its supplements.
%
%   Use is subject to license terms.
%
%   This distribution may include materials developed by third parties.
%
%   Sun, Sun Microsystems, the Sun logo and Java are trademarks or registered
%   trademarks of Sun Microsystems, Inc. in the U.S. and other countries.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Instanceof Testing}
\seclabel{instanceof}

Although there is no ``instanceof'' operator (equivalent to instanceof
testing in the Java Programming Language) built into Fortress, the effect
of an instanceof testing can be provided by the following function:
\marginnote{I manually added space around the second $\Rightarrow$
-- Sukyoung}
%% instanceOf[\T extends Any\](x: Any):Boolean = 
%%   typecase x of
%%     T => true
%%     else => false
%%   end
\begin{Fortress}
\(\VAR{instanceOf}\llbracket{}T \KWD{extends}\mskip 4mu plus 4mu\TYP{Any}\rrbracket(x\COLON \TYP{Any})\COLONOP\TYP{Boolean} = \)\\
{\tt~~}\pushtabs\=\+\(  \KWD{typecase}\mskip 4mu plus 4mu{x} \KWD{of}\)\\
{\tt~~}\pushtabs\=\+\(    T \Rightarrow \VAR{true}\)\\
\(    \KWD{else} \Rightarrow \VAR{false}\)\-\\\poptabs
\(  \KWD{end}\)\-\\\poptabs
\end{Fortress}
The function tests whether its argument has a given type and returns a
boolean value.
For convenience, the function \VAR{instanceOf} is included in \library.
