\documentclass[10pt]{sigplanconf}
\usepackage{amsmath,graphicx,url,color,alltt,fortify,verbatim,bcprules,tabularx,theorem}
\advance \textheight by 4pt

% make a big red TODO label
\newcommand{\TODO}[1]{\textbf{\emph{\textcolor{red}{TODO}}}: \textsf{\footnotesize #1}}
% \newcommand{\TODO}[1]{}

\newcommand{\kwd}[1]{\mathtt{#1}}

\newcommand{\emptyseq}{\bullet}
\newcommand{\whennonempty}[2]{{\def\nonemptytempA{#1}\def\nonemptytempB{}\ifx\nonemptytempA\nonemptytempB\else#2\fi}}
\newcommand{\turnstile}{\vdash}
%newcommand
\newcommand{\ms}{\preceq}
\renewcommand{\bar}{\overline}
\newcommand{\meet}{\wedge}
\newcommand{\C}{\mathcal{C}}
\newcommand{\quoted}[1]{\begin{quote}#1\end{quote}}
\newcommand{\exc}{\mathrel{\lozenge}}
\newcommand{\nexc}{\mathrel{\hbox to 0pt{$\mskip -1.4mu\not$\hss}\lozenge}}
\newcommand{\smalllozenge}{\vcenter{\hbox{\scalebox{.5}{$\lozenge$}}}}
\newcommand{\normallozenge}{\vcenter{\hbox{$\lozenge$}}}
% \newcommand{\altlozenge}{\ooalign{\hfil$\normallozenge$\hfil\cr\hfil$\smalllozenge$\hfil}}
\newcommand{\altlozenge}{\ooalign{\hfil$\vcenter{\hbox{$\lozenge$}}$\hfil\cr\hfil$\cdot$\hfil}}
\newcommand{\bexc}{\mathrel{\altlozenge}}
\newcommand{\bexcm}{\mathrel{\altlozenge}_\textrm{m}}
\newcommand{\bnexc}{\mathrel{\hbox to 0pt{$\mskip -1.4mu\not$\hss}\altlozenge}}

\newcommand{\countof}{\hbox{\tt\#}}
\newcommand{\apply}{\hbox{\tt\char'100}}
\newcommand{\comprises}{\mathrel{\mathord{\equiv}\mathord{\bigcup}}}

\newcommand{\fresh}[1]{\textit{fresh}({#1})}
\newcommand{\freeVar}[1]{\textit{freeVars({#1})}}

\newcommand{\dontcare}{\_\!\_}
\newcommand{\excr}{\triangleright}
\newcommand{\excl}{\triangleleft}
\newcommand{\excrx}{\excr_\textrm{x}}
\newcommand{\exclx}{\excl_\textrm{x}}
\newcommand{\excrc}{\excr_\textrm{c}}
\newcommand{\exclc}{\excl_\textrm{c}}
\newcommand{\excro}{\excr_\textrm{o}}
\newcommand{\exclo}{\excl_\textrm{o}}
% \newcommand{\excrp}{\excr_\textrm{m}}
% \newcommand{\exclp}{\excl_\textrm{m}}

\newcommand{\excx}{\exc_\textrm{x}}
\newcommand{\excc}{\exc_\textrm{c}}
\newcommand{\exco}{\exc_\textrm{o}}
\newcommand{\excm}{\exc_\textrm{m}}

\newcommand{\propop}{\ensuremath{\mathrel{\ast}}}

\newcommand{\ancestors}{\textit{ancestors}}
\newcommand{\ancexcludes}{\textit{excludes}^*}
\newcommand{\myexcludes}[1]{{#1}.\textit{excludes}}
\newcommand{\mycomprises}[1]{{#1}.\textit{comprises}}
\newcommand{\myextends}[1]{{#1}.\textit{extends}}

\newcommand{\extends}{\ensuremath{<:}}
\newcommand{\subtypeof}{\ensuremath{<:}}
\newcommand{\nsubtypeof}{\not \subtypeof}
\newcommand{\supertypeof}{\ensuremath{:>}}
\newcommand{\leinner}{\ensuremath{\lesssim}}

\newcommand{\alphaequiv}{\ensuremath{\stackrel{\alpha}{\sim}}}
\newcommand{\cequiv}{\ensuremath{\sim}}

\newcommand{\arrowtype}[2]{\mbox{\ensuremath{({#1} \rightarrow {#2})}}}
\newcommand{\tuple}[1]{\ensuremath{(#1)}}
\newcommand{\tupleb}[1]{\ensuremath{(\bar{#1})}}
\newcommand{\bigtuple}[1]{\ensuremath{\big(#1\big)}}
\newcommand{\bigtupleb}[1]{\ensuremath{\big(\bar{#1}\big)}}

\newcommand{\uniontype}[2]{\mbox{\ensuremath{({#1} \cup {#2})}}}
\newcommand{\intersectiontype}[2]{\mbox{\ensuremath{({#1} \cap {#2})}}}

\newcommand{\dom}{\ensuremath{\mathit{dom}}}
\newcommand{\arrow}{\ensuremath{\mathit{arrow}}}
\newcommand{\FV}{\ensuremath{\mathit{FV}}}

% indented code block
\newenvironment{ttquote}%
{\begin{quote}\begin{alltt}}
{\end{alltt}\end{quote}}

\newcommand{\verythinmathspace}{\mskip0.5\thinmuskip}

\newcommand{\set}[1]{\ensuremath{\{{#1}\}}}
\newcommand{\setb}[1]{\ensuremath{\{\bar{#1}\}}}
\newcommand{\bigset}[1]{\ensuremath{\big\{{#1}\big\}}}
\newcommand{\bigsetb}[1]{\ensuremath{\big\{\bar{#1}\big\}}}
\newcommand{\LRsetb}[1]{\ensuremath{\left\{\bar{#1}\right\}}}

% put in oxford brackets
\newcommand{\ob}[1]{\ensuremath{\llbracket\verythinmathspace {#1} \verythinmathspace\rrbracket}}
\newcommand{\bigob}[1]{\ensuremath{\big\llbracket\verythinmathspace {#1} \verythinmathspace\big\rrbracket}}
% put in oxford brackets and an overbar
\newcommand{\obb}[1]{\ensuremath{\llbracket\verythinmathspace \bar{#1} \verythinmathspace\rrbracket}}
\newcommand{\bigobb}[1]{\ensuremath{\big\llbracket\verythinmathspace \bar{#1} \verythinmathspace\big\rrbracket}}
% make a type param bound with the given name
\newcommand{\bd}[1]{\ensuremath{\{{#1}\}}}
\newcommand{\bigbd}[1]{\ensuremath{\big\{{#1}\big\}}}
\newcommand{\bdb}[1]{\ensuremath{\{\bar{#1}\}}}
\newcommand{\bigbdb}[1]{\ensuremath{\big\{\bar{#1}\big\}}}
% syntactic definition
\newcommand{\syndef}{\ensuremath{\overset{\mathrm{def}}{=}}}
% make a substitution
\newcommand{\subst}[2]{\ensuremath{[#1/#2]}}
% make a substitution with bars
\newcommand{\substb}[2]{\ensuremath{[\bar{#1}/\bar{#2}]}}
% type parameter list with bounds and oxford brackets
\newcommand{\tplist}[2]{\ensuremath{\ob{\bds{#1}{#2}}}}
% monomorphic fn decl
\newcommand{\decl}[3]{\mbox{\ensuremath{{#1}\,{#2}\!:\!{#3}}}}
% a generic function declaration 
\newcommand{\declg}[5]{\mbox{\ensuremath{#1 \tplist{#2}{#3}\, #4\!:\!#5}}}
\newcommand{\hdeclg}[4]{\mbox{\ensuremath{#1 \ob{#2}\, #3\!:\!#4}}}
% a class table T
\newcommand{\T}{\ensuremath{\mathcal{T}}}
% class table extension
\newcommand{\ctext}{\ensuremath{\supseteq}}
% a declaration set D
\newcommand{\D}{\ensuremath{\mathcal{D}}}
% a declaration set restricted to a function name
\newcommand{\Df}[1][f]{\D_{\!#1}}
% existential type
\newcommand{\existstype}[2]{\ensuremath{\exists\bigob{#1}{#2}}}
\newcommand{\existstypeb}[2]{\ensuremath{\exists\bigobb{#1}{#2}}}
% universal type
\newcommand{\foralltype}[2]{\ensuremath{\forall\bigob{#1}{#2}}}
\newcommand{\foralltypeb}[2]{\ensuremath{\forall\bigobb{#1}{#2}}}
% reduced existential type
\newcommand{\reduce}[1]{\ensuremath{{#1}_r}}

%%%%% Any and Bottom %%%%

\newcommand{\Any}{\TYP{Any}}
\newcommand{\Object}{\TYP{Object}}
\newcommand{\Bottom}{\TYP{Bottom}}

\newcommand{\FALSE}{\textrm{false}}
\newcommand{\TRUE}{\textrm{true}}

\newcommand{\NONE}{\bullet}

\newcommand{\eqred}{\overset{\equiv}{\longrightarrow}}

%%%%%%% JUDGMENTS %%%%%%%%

%%% NEW SYNTACTIC JUDGMENT
%\newcommand{\newjudge}[2]{\fbox{\textbf{#1:} \quad \ensuremath{#2}}}
\newcommand{\newjudge}[2]{\hbox{{#1:} \quad \fbox{\ensuremath{#2}}}}

% non constrained judgements
\newcommand{\jgtemplate}[4][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,{#2}\;{#3}\;{#4}}}
\newcommand{\jgbtemplate}[4][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,\bar{{#2}\;{#3}\;{#4}}}}
\newcommand{\jgTHREEtemplate}[8]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,{#2}\;{#3}\;{#4}, {#5}\;{#3}\;{#6}, {#7}\;{#3}\;{#8}}}

\newcommand{\jgshorttemplate}[3][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,{#2}\;{#3}}}
\newcommand{\jgbshorttemplate}[3][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,\bar{{#2}\;{#3}}}}

% ground subtyping
\newcommand{\jgsub}[3][\Delta]{\jgtemplate[#1]{#2}{\subtypeof}{#3}}
\newcommand{\jgnequiv}[3][\Delta]{\jgtemplate[#1]{#2}{\not \equiv}{#3}}

% evaluation
\newcommand{\jevalstep}[3][\Delta]{\jgtemplate[#1]{#2}{\longrightarrow}{#3}}
\newcommand{\jevalstepTWO}[5][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,{#2}\;{\longrightarrow}\;{#3}, {#4}\;{\longrightarrow}\;{#5}}}
\newcommand{\jbevalstep}[3][\Delta]{\jgbtemplate[#1]{#2}{\longrightarrow}{#3}}
\newcommand{\jevalstar}[3][\Delta]{\jgtemplate[#1]{#2}{\longrightarrow^*}{#3}}

% typing
\newcommand{\jtype}[3][\Delta;\Gamma]{\jgtemplate[#1]{#2}{\mathrel{:}}{#3}}
\newcommand{\jbtype}[3][\Delta;\Gamma]{\jgbtemplate[#1]{#2}{\mathrel{:}}{#3}}

%subtyping
\newcommand{\jsubtype}[3][\Delta]{\jgtemplate[#1]{#2}{\subtypeof}{#3}}
\newcommand{\jbsubtype}[3][\Delta]{\jgbtemplate[#1]{#2}{\subtypeof}{#3}}
\newcommand{\jnotsubtype}[3][\Delta]{\jgtemplate[#1]{#2}{\not\subtypeof}{#3}}
\newcommand{\jequivtype}[3][\Delta]{\jgtemplate[#1]{#2}{\equiv}{#3}}
\newcommand{\jbequivtype}[3][\Delta]{\jgbtemplate[#1]{#2}{\equiv}{#3}}
\newcommand{\jnotequivtype}[3][\Delta]{\jgtemplate[#1]{#2}{\not\equiv}{#3}}

% well-formed types
\newcommand{\jwftype}[2][\Delta]{\jgshorttemplate[#1]{#2}{\mathsf{ok}}}
\newcommand{\jbwftype}[2][\Delta]{\jgbshorttemplate[#1]{#2}{\mathsf{ok}}}

\newcommand{\jwfdecl}[2][\Delta]{\jgshorttemplate[#1]{#2}{\mathsf{ok}}}
\newcommand{\jbwfdecl}[2][\Delta]{\jgbshorttemplate[#1]{#2}{\mathsf{ok}}}

\newcommand{\jwfmeth}[2][\Delta;\Gamma]{\jgshorttemplate[#1]{#2}{\mathsf{ok}}}
\newcommand{\jbwfmeth}[2][\Delta;\Gamma]{\jgbshorttemplate[#1]{#2}{\mathsf{ok}}}


% subtyping on quantified types
\newcommand{\jle}[3][\Delta]{\jgtemplate[#1]{#2}{\le}{#3}}
\newcommand{\jleinner}[3][\Delta]{\jgtemplate[#1]{#2}{\leinner}{#3}}

% constrained judgments
\newcommand{\jgconstrtemplate}[5][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,{#2}\;{#3}\;{#4}\,\Leftarrow\,{#5}}}
\newcommand{\jgbconstrtemplate}[5][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,\bar{{#2}\;{#3}\;{#4}\,\Leftarrow\,{#5}}}}
\newcommand{\jgbbconstrtemplate}[5][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,\bar{\bar{{#2}\;{#3}\;{#4}\,\Leftarrow\,{#5}}}}}
% ground subtyping with constraints
\newcommand{\jsub}[4][\Delta]{\jgconstrtemplate[#1]{#2}{\subtypeof}{#3}{#4}}
\newcommand{\jbsub}[4][\Delta]{\jgbconstrtemplate[#1]{#2}{\subtypeof}{#3}{#4}}
% not subtype
\newcommand{\jnsub}[4][\Delta]{\jgconstrtemplate[#1]{#2}{\not \subtypeof}{#3}{#4}}
% type exclusion
\newcommand{\jexc}[4][\Delta]{\jgconstrtemplate[#1]{#2}{\exc}{#3}{#4}}
\newcommand{\jbexc}[4][\Delta]{\jgbconstrtemplate[#1]{#2}{\exc}{#3}{#4}}
% type non-exclusion
\newcommand{\jnexc}[4][\Delta]{\jgconstrtemplate[#1]{#2}{\nexc}{#3}{#4}}
% equivalence
\newcommand{\jequiv}[4][\Delta]{\jgconstrtemplate[#1]{#2}{\equiv}{#3}{#4}}
% nonequivalence
\newcommand{\jnequiv}[4][\Delta]{\jgconstrtemplate[#1]{#2}{\not\equiv}{#3}{#4}}
\newcommand{\jbnequiv}[4][\Delta]{\jgbconstrtemplate[#1]{#2}{\not\equiv}{#3}{#4}}


% contrapositive judgements
\newcommand{\jgcontratemplate}[5][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,{#2}\;{#3}\;{#4}\,\Rightarrow\,{#5}}}
% ground subtyping with constraints
\newcommand{\jcsub}[4][\Delta]{\jgcontratemplate[#1]{#2}{\subtypeof}{#3}{#4}}
% not subtype
\newcommand{\jcnsub}[4][\Delta]{\jgcontratemplate[#1]{#2}{\not \subtypeof}{#3}{#4}}
% type exclusion
\newcommand{\jcexc}[4][\Delta]{\jgcontratemplate[#1]{#2}{\exc}{#3}{#4}}
% type non-exclusion
\newcommand{\jcnexc}[4][\Delta]{\jgcontratemplate[#1]{#2}{\nexc}{#3}{#4}}
% equivalence
\newcommand{\jcequiv}[4][\Delta]{\jgcontratemplate[#1]{#2}{\equiv}{#3}{#4}}
% nonequivalence
\newcommand{\jcnequiv}[4][\Delta]{\jgcontratemplate[#1]{#2}{\not\equiv}{#3}{#4}}


% applicability of a domain or fndecl to a type
\newcommand{\japp}[3][\Delta]{\jgtemplate[#1]{#2}{\ni}{#3}}
% specificity between fndecls
\newcommand{\jms}[3][\Delta]{\jgtemplate[#1]{#2}{\ms}{#3}}

% constraints
% convert a bound environment into a constraint
\newcommand{\toConstraint}[2]{\ensuremath{\textit{toConstraint}({#1})\,=\,{#2}}}
% convert a constraint into a bound environment
\newcommand{\toBounds}[2]{\ensuremath{\textit{toBounds}({#1})\,=\,{#2}}}

% apply substitution to constraint
\newcommand{\japply}[4][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,\textit{apply}({#2}, {#3})\,=\,{#4}}}
% solve constraint to get a substitution and the residual constraints
\newcommand{\jsolve}[4][\Delta]{\ensuremath{\whennonempty{#1}{{#1}\,}\turnstile\,\textit{unify}({#2})\,=\,{#3}\,,\;{#4}}}



% type reduction
\newcommand{\jtred}[2]{\ensuremath{\Delta \turnstile\,{#1} \eqred {#2}}}
\newcommand{\jtreds}[3]{\ensuremath{\Delta \turnstile\,{#1} \eqred {#2}\,,\;{#3}}}


% for tabularx environments to have a right-aligned, stretched col
\newcolumntype{R}{>{\raggedleft\arraybackslash}X}%

\theorembodyfont{\rm}
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
% Our proofs are more like proof sketches!! EricAllen 7/15/2011
\newenvironment{proof}{\noindent \textbf{Proof:} }{\hfill $\Box$}
\newenvironment{psketch}{\noindent \textbf{Proof sketch:} }{\hfill $\Box$}

\begin{document}

\conferenceinfo{OOPSLA '11}{October 22--27, 2011, Portland, Oregon, USA.}
\CopyrightYear{2011}
\copyrightdata{978-1-4503-0940-0/11/10}

\titlebanner{draft}        % These are ignored unless
\preprintfooter{draft}     % 'preprint' option specified.

\title{Welterweight Fortress DRAFT}
\subtitle{}
\authorinfo{David Chase}{Oracle Labs}{david.r.chase@oracle.com}
\authorinfo{Justin Hilburn}{Oracle Labs}{justin.hilburn@oracle.com}
\authorinfo{Victor Luchangco}{Oracle Labs}{victor.luchangco@oracle.com}
\authorinfo{Karl Naden}{Oracle Labs}{karl.naden@oracle.com}
\authorinfo{Sukyoung Ryu}{KAIST}{sryu.cs@kaist.ac.kr}
\authorinfo{Guy L. Steele Jr.}{Oracle Labs}{guy.steele@oracle.com}
\authorinfo{John Tristan}{Oracle Labs}{jean.baptiste.tristan@oracle.com}

\makeatletter
\def \@maketitle {%
 \begin{center}
 \@settitlebanner
 \let \thanks = \titlenote
 \noindent \LARGE \bfseries \@titletext \par
 %\vskip 6pt
 %\noindent \Large \@subtitletext \par
 \vskip 6pt
   \noindent \@setauthor{9pc}{i}{\@false}\hspace{1.5pc}%
             \@setauthor{9pc}{ii}{\@false}\hspace{1.5pc}%
             \@setauthor{10pc}{iii}{\@false}\hspace{1.5pc}%
             \@setauthor{9pc}{iv}{\@true}\par
\vspace{12pt plus 2pt}
 \noindent \@setauthor{9pc}{v}{\@false}\hspace{1.5pc}%
           \@setauthor{9pc}{vi}{\@false}\hspace{1.5pc}%
           \@setauthor{11pc}{vii}{\@false}\par
\vspace{10pt plus 2pt}
 \end{center}}
\makeatother
\maketitle


\begin{abstract}
%\input{abstract.tex}

Fortress~\cite{fortress}

\end{abstract}

\category{D.3.3}{Programming Languages}{Language Constructs and Features---classes and objects, inheritance, modules, packages, polymorphism}

\terms{Languages}

\keywords{object-oriented programming, multiple dispatch, 
symmetric dispatch, multiple inheritance, overloading, ilks, run-time types, static types,
components, modularity, meet rule,
methods, multimethods, separate compilation, Fortress}

\section{Introduction}
\label{sec:introduction}
%\input{introduction.tex}

\newpage

\section{Notation}
\label{sec:notation}
\input{notation}

\section{Grammar}
\label{sec:grammar}
\input{grammar}

\section{Wellformedness}
\label{sec:wellformedness}
%\input{wellformedness}

\section{Examples}
\label{sec:examples}
%\input{examples}

\section{Related Work}\label{sec:related}
%\input{related-work}

\section{Conclusion and Discussion}\label{sec:conclusion}
%\input{conclusion}

\input{fig-exclusion}

\section*{Acknowledgments}
% This work is supported in part by the Engineering Research Center of Excellence Program of Korea Ministry of Education,
% Science and Technology(MEST) / National Research Foundation of Korea(NRF)
% (Grant 2011-0000974).

\bibliographystyle{plain}
% The bibliography should be embedded for final submission.
\bibliography{paper}
% \begin{thebibliography}{}
% \softraggedright
% 
% \input{biblio.tex}
% 
% \end{thebibliography}

% \appendix
\end{document}
