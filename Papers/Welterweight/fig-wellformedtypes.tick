\begin{figure}
\typicallabel{W-Object}

\newjudge{Well-formed types}{\jwftype{\kappa}}
\bigskip

% Stuff in \Delta is assumed to be well-formed

\infrule[W-Param]
  { \bd{\dontcare} \extends P \extends \bd{\dontcare} \in \set{\Delta} }
  { \jwftype{P} }

\bigskip

\infrule[W-Trait]
  { \kwd{trait} \; T\bigobb{V\;P \extends \bdb{\xi}} \; \dontcare \; \kwd{end} \in \set{\Delta} \\[2pt]
    \countof(\bar{\alpha}) = \countof(\bar{P})  \andalso  \jbwftype{\alpha} \\[3pt]
    \jbsubtype{\alpha}{\underline{\Big[\bar{\alpha/P}\Big]}\xi} }
  { \jwftype{T\obb{\alpha}} }

\bigskip

\infrule[W-Object]
  { \kwd{object} \; O\bigobb{P \extends \bdb{\xi}} \; \dontcare \; \kwd{end} \in \set{\Delta} \\[2pt]
    \countof(\bar{\alpha}) = \countof(\bar{P})  \andalso  \jbwftype{\alpha} \\[3pt]
    \jbsubtype{\alpha}{\underline{\Big[\bar{\alpha/P}\Big]}\xi} }
  { \jwftype{O\obb{\alpha}} }

\bigskip

\infrule[W-Tuple]
  { \jbwftype{\alpha} }
  { \jwftype{(\bar{\alpha})} }

\bigskip

\infrule[W-Arrow]
  { \jwftype{\alpha}  \andalso  \jwftype{\rho} }
  { \jwftype{\arrowtype{\alpha}{\rho}} }

\bigskip

\infax[W-Any-Type]
  { \jwftype{\Any} }

\bigskip

\infax[W-Object-Type]
  { \jwftype{\Object} }

\bigskip

\infax[W-Bottom-Type]
  { \jwftype{\Bottom} }

\bigskip

\infrule[W-Union]
  { \jwftype{\alpha}  \andalso  \jwftype{\gamma} }
  { \jwftype{\uniontype{\alpha}{\gamma}} }

\bigskip

\infrule[W-Intersection]
  { \jwftype{\alpha}  \andalso  \jwftype{\gamma} }
  { \jwftype{\intersectiontype{\alpha}{\gamma}} }

\bigskip

\infrule[W-Exists]
  { \jbwftype{\chi}  \andalso  \jbwftype{\eta} \\[4pt]
    \jwftype[\Delta, \bar{\bdb{\chi} \extends P \extends \bdb{\eta}}]{\alpha} }
  { \jwftype{\existstypeb{\bdb{\chi} \extends P \extends \bdb{\eta}}{\alpha}} }

\bigskip

\infrule[W-Forall]
  { \jbwftype{\chi}  \andalso  \jbwftype{\eta} \\[4pt]
    \jwftype[\Delta, \bar{\bdb{\chi} \extends P \extends \bdb{\eta}}]{\alpha} }
  { \jwftype{\foralltypeb{\bdb{\chi} \extends P \extends \bdb{\eta}}{\alpha}} }

\medskip
\caption{Well-formed Types}
\label{fig:wellformedtypes}
\end{figure}
